server:
  port: ${PORT:8080}
  tomcat:
    remote_ip_header: x-forwarded-for
    protocol_header: x-forwarded-proto
    internal_proxies: 10\.\d{1,3}\.\d{1,3}\.\d{1,3}|192\.168\.\d{1,3}\.\d{1,3}|169\.254\.\d{1,3}\.\d{1,3}|127\.\d{1,3}\.\d{1,3}\.\d{1,3}|172\.1[6-9]{1}\.\d{1,3}\.\d{1,3}|172\.2[0-9]{1}\.\d{1,3}\.\d{1,3}|172\.3[0-1]{1}\.\d{1,3}\.\d{1,3}

management:
  context-path: /admin

spring:
  application:
    name: iaas-exporter

logging:
  level:
    org.springframework.security: DEBUG
    
exporter:
  disk:
    scan:
      delayms: <%= p("exporter.disk.scan.delayms") %>
  vm:
    scan:
      delayms: <%= p("exporter.vm.scan.delayms") %>
  proxy_host: <%= p("exporter.proxy_host") %>
  proxy_port: <%= p("exporter.proxy_port") %>

<% if_p("exporter.openstack.endpoint") do |endpoint|  %>
  openstack: 
    endpoint: <%= endpoint %>
    tenant: <%= p("exporter.openstack.tenant") %>
    username: <%= p("exporter.openstack.username") %>
    password: <%= p("exporter.openstack.password") %>
<% end %>    

<% if_p("exporter.cloudstack.endpoint") do |endpoint|  %>
  cloudstack: 
    endpoint: <%= endpoint %>
    zone: <%= p("exporter.cloudstack.zone") %>
    api_key: <%= p("exporter.cloudstack.api_key") %>
    secret_access_key: <%= p("exporter.cloudstack.secret_access_key") %>
<% end %>    

<% if_p("exporter.vcloud.endpoint") do |endpoint|  %>
  vcloud: 
    endpoint: <%= endpoint %>
    org: <%= p("exporter.vcloud.org") %>
    username: <%= p("exporter.vcloud.username") %>
    password: <%= p("exporter.vcloud.password") %>
<% end %>    
    
